<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>QR Code Generator - Free Online QR Code Tool | Create & Scan QR Codes</title>
    <meta
      name="description"
      content="Free online QR code generator. Create, scan, and print QR codes for URLs, Wi-Fi, contacts, and more. Works offline, no data uploads. Fast and easy to use."
    />
    <meta name="keywords" content="qr code generator, create qr code, qr code maker, free qr code, qr code scanner, wifi qr code, vcard qr code" />
    <meta name="author" content="QR Toolkit" />
    <meta name="robots" content="index, follow" />
    <meta property="og:title" content="QR Code Generator - Free Online QR Code Tool" />
    <meta property="og:description" content="Create, scan, and print QR codes for free. No sign-up required." />
    <meta property="og:type" content="website" />
    <link rel="canonical" href="https://qr-toolkit.vercel.app/" />
    <link rel="stylesheet" href="./src/style.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <div class="brand">
          <div class="brand-title">QR Code Toolkit</div>
          <div class="brand-subtitle">
            Generate · Scan · Print QR Codes
            <span id="qrLibStatus" class="pill pill--muted" aria-live="polite">QR Engine: Loading…</span>
          </div>
        </div>
        <nav class="tabs" aria-label="功能切换">
          <button class="tab is-active" type="button" data-tab="generate">Generate</button>
          <button class="tab" type="button" data-tab="scan">Scan</button>
          <button class="tab" type="button" data-tab="batch">Batch</button>
          <button class="tab" type="button" data-tab="about">About</button>
        </nav>
      </div>
    </header>

    <main class="container">
      <section class="panel tab-panel is-active" id="tab-generate" aria-labelledby="heading-generate">
        <div class="panel-header">
          <h1 class="h1" id="heading-generate">QR Code Generator</h1>
          <p class="muted">
            Create QR codes for URLs, Wi-Fi, contacts, and more. All processing happens locally in your browser—no data uploads.
          </p>
        </div>

        <div class="layout-2">
          <div class="stack">
            <form id="genForm" class="stack" autocomplete="off">
              <div class="field">
                <label for="genType">Content Type</label>
                <select id="genType" name="genType">
                  <option value="text" selected>URL / Text</option>
                  <option value="wifi">Wi-Fi</option>
                  <option value="tel">Phone</option>
                  <option value="email">Email</option>
                  <option value="sms">SMS</option>
                  <option value="geo">Geo Location</option>
                  <option value="vcard">vCard Contact</option>
                </select>
              </div>

              <div id="typeFields" class="stack"></div>

              <div class="field">
                <label for="payload">Encoded Content (will be put into QR code)</label>
                <textarea id="payload" name="payload" rows="4" spellcheck="false" readonly></textarea>
                <label class="checkbox">
                  <input id="payloadOverride" type="checkbox" />
                  <span>Manually override content</span>
                </label>
                <div class="row row--space">
                  <button class="btn btn--secondary" type="button" id="copyPayload">Copy</button>
                  <div class="hint muted" id="payloadHint"></div>
                </div>
              </div>

              <details class="details" open>
                <summary>Advanced Options</summary>
                <div class="grid-2">
                  <div class="field">
                    <label for="ecc">Error Correction Level (ECC)</label>
                    <select id="ecc" name="ecc">
                      <option value="M" selected>M (Recommended)</option>
                      <option value="L">L (Larger capacity)</option>
                      <option value="Q">Q (Stronger error correction)</option>
                      <option value="H">H (Strongest error correction)</option>
                    </select>
                  </div>
                  <div class="field">
                    <label for="version">Version (1-40, 0=Auto)</label>
                    <input id="version" name="version" type="number" min="0" max="40" value="0" />
                  </div>
                  <div class="field">
                    <label for="scale">Scale (pixels per module)</label>
                    <input id="scale" name="scale" type="number" min="2" max="40" value="10" />
                  </div>
                  <div class="field">
                    <label for="quiet">Quiet zone (modules around QR)</label>
                    <input id="quiet" name="quiet" type="number" min="0" max="12" value="4" />
                  </div>
                  <div class="field">
                    <label for="fg">Foreground color</label>
                    <input id="fg" name="fg" type="color" value="#0b1220" />
                  </div>
                  <div class="field">
                    <label for="bg">Background color</label>
                    <input id="bg" name="bg" type="color" value="#ffffff" />
                  </div>
                </div>
              </details>

              <details class="details">
                <summary>Center Logo (Optional)</summary>
                <div class="grid-2">
                  <div class="field">
                    <label for="logoFile">Upload image</label>
                    <input id="logoFile" name="logoFile" type="file" accept="image/*" />
                    <div class="hint muted">Transparent PNG recommended; large logos reduce scannability.</div>
                  </div>
                  <div class="field">
                    <label for="logoSize">Logo size (width ratio)</label>
                    <input id="logoSize" name="logoSize" type="range" min="0" max="0.35" step="0.01" value="0" />
                    <div class="hint muted"><span id="logoSizeLabel">0%</span></div>
                  </div>
                </div>
                <label class="checkbox">
                  <input id="logoWhiteBg" type="checkbox" checked />
                  <span>Add white background under logo</span>
                </label>
              </details>

              <div class="row">
                <button class="btn" type="button" id="downloadSvg">Download SVG</button>
                <button class="btn btn--secondary" type="button" id="downloadPng">Download PNG</button>
                <button class="btn btn--ghost" type="button" id="printSingle">Print</button>
              </div>

              <div class="callout" id="genError" hidden></div>
            </form>
          </div>

          <div class="stack">
            <div class="preview-card">
              <div class="preview-header">
                <div class="preview-title">Preview</div>
                <div class="preview-meta muted" id="qrMeta">-</div>
              </div>
              <div class="preview-body">
                <div id="qrPreview" class="qr-preview" role="img" aria-label="QR code preview"></div>
                <canvas id="qrCanvas" class="qr-canvas" hidden></canvas>
              </div>
            </div>
            <div class="hint muted">
              Tip: For better scannability with damage/dirt, choose higher ECC and reduce logo size.
            </div>
          </div>
        </div>
      </section>

      <section class="panel tab-panel" id="tab-scan" aria-labelledby="heading-scan">
        <div class="panel-header">
          <h1 class="h1" id="heading-scan">QR Code Scanner</h1>
          <p class="muted">Scan QR codes via camera or image files (requires browser BarcodeDetector support).</p>
        </div>

        <div class="grid-2">
          <div class="stack">
            <div class="row row--space">
              <div class="preview-title">Camera</div>
              <div class="row">
                <button class="btn" type="button" id="startScan">Start</button>
                <button class="btn btn--secondary" type="button" id="stopScan" disabled>Stop</button>
              </div>
            </div>
            <video id="scanVideo" class="video" playsinline muted></video>
            <div class="hint muted" id="scanStatus" aria-live="polite">Status: Not started</div>
          </div>

          <div class="stack">
            <div class="preview-title">Scan Image</div>
            <input id="scanFile" type="file" accept="image/*" />
            <div class="hint muted">Select an image file containing a QR code to scan.</div>
          </div>
        </div>

        <div class="field">
          <label for="scanResult">Scan Result</label>
          <textarea id="scanResult" rows="5" spellcheck="false" readonly></textarea>
          <div class="row">
            <button class="btn btn--secondary" type="button" id="copyScan">Copy Result</button>
            <a class="btn btn--ghost" id="openScan" href="#" target="_blank" rel="noreferrer" hidden>Open Link</a>
          </div>
          <div class="callout" id="scanError" hidden></div>
        </div>
      </section>

      <section class="panel tab-panel" id="tab-batch" aria-labelledby="heading-batch">
        <div class="panel-header">
          <h1 class="h1" id="heading-batch">Batch Generate & Print</h1>
          <p class="muted">Paste multiple lines to generate a full page of QR codes, perfect for stickers or lists.</p>
        </div>

        <div class="grid-2">
          <div class="stack">
            <div class="field">
              <label for="batchInput">One per line (optional: use comma "label,content")</label>
              <textarea id="batchInput" rows="10" spellcheck="false" placeholder="Example:\nWebsite,https://example.com\nWiFi,WIFI:T:WPA;S:MyWifi;P:12345678;;\n"></textarea>
            </div>
            <details class="details" open>
              <summary>Batch Options</summary>
              <div class="grid-2">
                <div class="field">
                  <label for="batchEcc">ECC</label>
                  <select id="batchEcc">
                    <option value="M" selected>M</option>
                    <option value="L">L</option>
                    <option value="Q">Q</option>
                    <option value="H">H</option>
                  </select>
                </div>
                <div class="field">
                  <label for="batchQuiet">Quiet zone (modules)</label>
                  <input id="batchQuiet" type="number" min="0" max="12" value="4" />
                </div>
                <div class="field">
                  <label for="batchCols">Columns</label>
                  <input id="batchCols" type="number" min="2" max="8" value="4" />
                </div>
                <div class="field">
                  <label for="batchCell">Cell size (px)</label>
                  <input id="batchCell" type="number" min="2" max="20" value="6" />
                </div>
              </div>
            </details>
            <div class="row">
              <button class="btn" type="button" id="batchBuild">Generate Preview</button>
              <button class="btn btn--ghost" type="button" id="batchPrint" disabled>Print</button>
              <div class="hint muted" id="batchHint"></div>
            </div>
            <div class="callout" id="batchError" hidden></div>
          </div>

          <div class="stack">
            <div class="preview-card">
              <div class="preview-header">
                <div class="preview-title">Batch Preview</div>
                <div class="preview-meta muted" id="batchMeta">-</div>
              </div>
              <div class="preview-body">
                <div id="batchGrid" class="batch-grid" aria-label="Batch QR code preview"></div>
              </div>
            </div>
            <div class="hint muted">
              Print tip: Enable "Background graphics" in browser print dialog for consistent results.
            </div>
          </div>
        </div>
      </section>

      <section class="panel tab-panel" id="tab-about" aria-labelledby="heading-about">
        <div class="panel-header">
          <h1 class="h1" id="heading-about">About This Project</h1>
          <p class="muted">
            This tool was built with a product mindset: validate demand with public data first, then build a functional MVP around user intent.
          </p>
        </div>

        <div class="prose">
          <h2>Keyword & Demand</h2>
          <p>
            This project targets the keyword <span class="kbd">qr code generator</span>, a classic "tool-type strong intent" search query.
            See <span class="kbd">KEYWORD.md</span> for data and analysis.
          </p>
          <h2>Privacy</h2>
          <p>
            All generation and scanning happens locally in your browser. Scanning uses the browser's built-in BarcodeDetector (support varies by browser).
          </p>
          <h2>Offline Mode</h2>
          <p>
            By default, the QR generation engine loads from a public CDN (to keep the repo lightweight). For completely offline use, download the dependency to
            <span class="kbd">src/vendor/</span> and the app will load it locally first.
          </p>
        </div>
      </section>
    </main>

    <section id="printArea" class="print-area" hidden aria-label="打印区域">
      <div id="printQr" class="print-qr" role="img" aria-label="QR code for printing"></div>
    </section>

    <footer class="site-footer">
      <div class="container muted">
        <span>QR Code Toolkit · Runs Locally</span>
      </div>
    </footer>

    <script type="module" src="./src/app.mjs"></script>
  </body>
</html>
